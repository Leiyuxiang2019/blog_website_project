{% from '_marco.html' import render_pagination %}
{% extends 'app.html' %}
{% block content %}
<div class="row" id="pjax-container"> 
    <!-- Content -->
    <div id="content" class="8u skel-cell-important">
        {% for post in posts %}
        <section class="zsection">
            <header>
                <h4><a href="{{ url_for('.post',id=post.id )}}">{{ post.title }}</a></h4>
            </header>
            {{ post.body|truncate(250, True,'...') }}
            <p> Posted:{{ post.created_at.strftime('%Y-%m-%d')}} &nbsp; By <span>{{ post.author }}</span>
            </p>
        </section>
        {% endfor %}                        
            {{ render_pagination(pagination,url_for(".index")) }}
                
            </div>
            <!-- Sidebar -->
            <div id="sidebar" class="4u">
                <section>
                    <header>
                        <h2>浏览排行</h2>
                    </header>
                    <ul class="style">
                        {% for es in essence %}                        
                        <li>
                            <a href="{{ url_for('.post',id=es.id )}}">
                            <p class="posted">{{ es.title }} - {{ es.created_at.strftime('%Y-%m-%d')}}  </p>
                            </a>
                            <!-- <img src="./index_files/linux.jpg" alt=""> -->
                            <p class="text">{{ es.body|truncate(120, True,'...') }}</p>
                        </li>
                        {% endfor %}
                    </ul>
                </section>
               
            </div> 
        </div>
{% endblock %}